<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.11"/>
<title>Virgil SDK: Server Configuration</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { init_search(); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Virgil SDK
   &#160;<span id="projectnumber">4.3.0</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.11 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li class="current"><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

</div><!-- top -->
<div class="header">
  <div class="headertitle">
<div class="title">Server Configuration </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p><a href="#head1">Developer Account</a> | <a href="#head2">Install SDK</a> | <a href="#head3">Initialize SDK</a> | <a href="#head4">Create Access Token</a> | <a href="#head5">Approve &amp; Publish Cards</a></p>
<p>This guide helps you to set up your server and implement required mechanisms using <a class="el" href="namespace_virgil.html">Virgil</a> Infrastructure.</p>
<h2><a class="anchor" id="head1"></a> Developer Account</h2>
<p>To use the <a class="el" href="namespace_virgil.html">Virgil</a> SDK package, sign up for <b>Developer account</b> and create your first application. Make sure to save the <b>App ID</b>, the <b>App Key</b> and the <b>App Key Password</b>. If you did not create a Developer account yet, you can do so now by using this <a href="https://developer.virgilsecurity.com/account/signup">link</a>.</p>
<h2><a class="anchor" id="head2"></a> Install SDK</h2>
<p>The <a class="el" href="namespace_virgil.html">Virgil</a> .NET SDK is provided as a package named <a class="el" href="namespace_virgil_1_1_s_d_k.html">Virgil.SDK</a>. The package is distributed via NuGet package management system.</p>
<p>The package is available for .NET Framework 4.5 and newer.</p>
<p>Installing the package:</p>
<ol type="1">
<li>Use NuGet Package Manager (Tools -&gt; Library Package Manager -&gt; Package Manager Console)</li>
<li>Run PM&gt; Install-Package <a class="el" href="namespace_virgil_1_1_s_d_k.html">Virgil.SDK</a></li>
</ol>
<h2><a class="anchor" id="head3"></a> Initialize SDK</h2>
<p>To initialize the <a class="el" href="namespace_virgil.html">Virgil</a> SDK on a server, you will need to sign up for a developer account and create your first application. Then, to initialize the SDK all you need are:</p>
<ol type="1">
<li>The <b>access token</b> for your application</li>
<li>The application <b>credentials</b> (the App ID, the App Key in a file, the App Key password).</li>
</ol>
<div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;var virgil = new VirgilApi(new VirgilApiContext</div><div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;{</div><div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;  AccessToken = &quot;[YOUR_ACCESS_TOKEN_HERE]&quot;,</div><div class="line"><a name="l00004"></a><span class="lineno">    4</span>&#160;  Credentials = new AppCredentials</div><div class="line"><a name="l00005"></a><span class="lineno">    5</span>&#160;  {</div><div class="line"><a name="l00006"></a><span class="lineno">    6</span>&#160;      AppId = &quot;[YOUR_APP_ID_HERE]&quot;,</div><div class="line"><a name="l00007"></a><span class="lineno">    7</span>&#160;      AppKey = VirgilBuffer.FromFile(&quot;[YOUR_APP_KEY_FILEPATH_HERE]&quot;),</div><div class="line"><a name="l00008"></a><span class="lineno">    8</span>&#160;      AppKeyPassword = &quot;[YOUR_APP_KEY_PASSWORD_HERE]&quot;,</div><div class="line"><a name="l00009"></a><span class="lineno">    9</span>&#160;  }</div><div class="line"><a name="l00010"></a><span class="lineno">   10</span>&#160;});</div></div><!-- fragment --><h2><a class="anchor" id="head4"></a> Create Access Token</h2>
<p>When users want to start working with your Application in a browser or mobile device, <a class="el" href="namespace_virgil.html">Virgil</a> can't trust them right away. <a class="el" href="namespace_virgil.html">Virgil</a> needs the developer to vouch for his users, so we can trust them too. You'll need to give your users an Access Token that tells <a class="el" href="namespace_virgil.html">Virgil</a> who they are and what they can do. Thus, you need a service that will be responsible for an access token creation in your <a class="el" href="namespace_virgil.html">Virgil</a> Developer Dashboard for users in case of their successful registration on your server.</p>
<p>You must decide, based on the token request that was sent to you, who the user is and what they should be allowed to do and then you have to transfer a recently created special access token to the client-side. To figure out who the user is, you might implement the users authentication mechanism by using the user's identity. Also, you can assign a temporary identity to the user if you don't care who he is.</p>
<div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;// an example of an Access Token representation</div><div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;AT.7652ee415726a1f43c7206e4b4bc67ac935b53781f5b43a92540e8aae5381b14</div></div><!-- fragment --><h2><a class="anchor" id="head5"></a> Approve &amp; Publish Cards</h2>
<p>You have to transfer a recently created and signed users' <b><a class="el" href="namespace_virgil.html">Virgil</a> Cards</b> from the client-side to your server for further approving. When you receive the users' <a class="el" href="namespace_virgil.html">Virgil</a> Cards from the client-side, import them, sign with your App Key using <a class="el" href="namespace_virgil.html">Virgil</a> SDK and Publish to the <b><a class="el" href="namespace_virgil.html">Virgil</a> Services</b>. Thus, you need a service that will validate and sign the transferred users' <a class="el" href="namespace_virgil.html">Virgil</a> Cards.</p>
<p>Use the following code to Import and Publish a <a class="el" href="namespace_virgil.html">Virgil</a> Card to <a class="el" href="namespace_virgil.html">Virgil</a> Services</p>
<div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;// import a Virgil Card from string</div><div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;var importedCard = virgil.Cards.Import(exportedCard);</div><div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;</div><div class="line"><a name="l00004"></a><span class="lineno">    4</span>&#160;// publish a Virgil Card</div><div class="line"><a name="l00005"></a><span class="lineno">    5</span>&#160;await virgil.Cards.PublishAsync(importedCard);</div></div><!-- fragment --><p>At the <a class="el" href="namespace_virgil.html">Virgil</a> Services, the <a class="el" href="namespace_virgil.html">Virgil</a> Cards will be also signed. Developers can verify the signature of the <a class="el" href="namespace_virgil.html">Virgil</a> Card owner, the <a class="el" href="namespace_virgil.html">Virgil</a> Services, and the Application Server at any time. </p>
</div></div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.11
</small></address>
</body>
</html>
